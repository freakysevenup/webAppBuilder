<!DOCTYPE html>
    <body ng-app="MainApp" ng-controller="MainCtrl">
        <head>
            <title>DTAF Regression Reporting Tool</title>
            <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.js" type="text/javascript"></script>
            <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-touch.js"></script>
            <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-animate.js"></script>
            <script src="http://ui-grid.info/docs/grunt-scripts/csv.js"></script>
            <script src="http://ui-grid.info/docs/grunt-scripts/pdfmake.js"></script>
            <script src="http://ui-grid.info/docs/grunt-scripts/vfs_fonts.js"></script>
            <script src="http://ui-grid.info/release/ui-grid.js"></script>
            <script src="scripts/app.js" type="text/javascript"></script> 
            <script src="scripts/maincontroller.js" type="text/javascript"></script>
            <script src="scripts/departmentTableCtrl.js" type="text/javascript"></script>
            <script src="scripts/vidCont.js" type="text/javascript"></script>
            <link rel="stylesheet" href="http://ui-grid.info/release/ui-grid.css" type="text/css">
            <link rel="stylesheet" href="./stylesheets/main.css" type="text/css">
            <link rel="stylesheet" href="./stylesheets/shared_style.css" type="text/css">
            <link rel="stylesheet" href="./stylesheets/style.css" type="text/css">

        </head>

        <!-- This is the div which contains the Top bar title, version and business date -->
        <div class="top_bar_header">
            <div class="top_bar_header_text">
                <div class="top_bar_page_title">
                    <p>{{ landingPage[0].reportTitle }}</p>
                </div>
                <div class="top_bar_page_version">
                    <p>{{ landingPage[0].version }}</p>
                </div>
                <div class="top_bar_page_businessdate">
                    <p>{{ landingPage[0].businessDate }}</p>
                </div>
            </div>
        </div><!-- top bar header div ends -->
        <!-- The following div is managed by the deptCtrl controller -->
        <div ng-controller="deptCtrl">
            <!-- This is the div which contains the back button -->
            <div class="aligner">
                <div class="backbutton" ng-show="showBackButton">
                    <a href="index.html" class="button" ng-click="returnToMenu()"><span>Back  </span></a>
                    <a href="#" class="button" ng-click="exportCSV()"><span>Export  </span></a>
                    <!--<button type="button" ng-click="exportCSV()">Export Selected Row Attribution</button>-->
                </div>
            </div><!-- aligner div ends -->
            <!-- This is the Navigation menu -->
            <nav ng-show="showNav" class="menu_nav">
                <ul>
                    <li id="list_header" ng-repeat="item in landingPage"><a class="{{ item.status }}"> {{ item.parent }} </a>
                        <ul>
                            <li ng-repeat="obj in item.children"><a href= "#" class="{{ obj.status }}" ng-click="showTreeViewTable( obj.index )"> {{ obj.child }} </a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
            <!-- This is the div which contains the tables -->
            <div ng-show="showTreeView" class="grid_div"> 
                <div class="tables" >
                    <div class="space" >
                        <div ui-if="table.data.length>0" ui-grid="table" ui-grid-selection ui-grid-tree-view ui-grid-auto-resize class="table-1" ng-style="getTableHeight()"></div>
                    </div>
                    <div class="space" >
                        <p>{{ detailsTableTitle }}</p>
                        <div ui-if="detailsTable.data.length>0" ui-grid="detailsTable" ui-grid-pagination ui-grid-auto-resize class="table-2" ng-style="getDetailTableHeight()"></div>
                    </div>
                </div>
            </div> <!-- grid_div ends -->

            <div ng-controller="vidCont">
                <div ng-repeat="video in videos | orderBy: '-date'"  style="padding:20px">
                    <div>
                    <iframe width="560" height="315" ng-src="{{video.url | trusted}}" 
                        frameborder="0" allowfullscreen></iframe>
                        <p>Display output for control reasons: {{video.url | trusted}}</p>
                    </div>
                </div>
            </div>

        </div> <!-- deptCtrl controller div ends -->
    </body>
</html>